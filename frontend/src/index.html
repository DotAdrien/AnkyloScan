<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>AnkyloScan üõ°Ô∏è</title>
    
    <link href="https://cdn.jsdelivr.net/npm/daisyui@latest/dist/full.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>

    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>






<body class="bg-[#050510] text-gray-200" x-data="app()" x-init="init()">

    <aside class="fixed w-[100px] h-screen bg-[#0a0a1a] border-r border-gray-800 z-50 flex flex-col items-center py-8">
        <div @click="handleProfileClick()" 
             class="w-10 h-10 rounded-full bg-[#ec4899] flex items-center justify-center cursor-pointer mb-12 hover:scale-110 transition shadow-[0_0_15px_rgba(236,72,153,0.5)]">
            <span class="font-bold text-white text-xl">A</span>
        </div>
        
        <nav class="flex flex-col gap-12 mt-10">
            <template x-for="item in ['landing', 'about', 'work', 'contact']">
                <button @click="changePage(item)" 
                        :class="currentPage === item ? 'text-[#ec4899]' : 'text-gray-400'" 
                        class="vertical-text hover:text-[#ec4899] transition font-medium tracking-widest uppercase"
                        x-text="item === 'work' ? 'SCAN' : item">
                </button>
            </template>
        </nav>
    </aside>

    <main class="ml-[100px] p-8">
        <div x-html="pageContent" 
             class="transition-opacity duration-300"
             :class="loading ? 'opacity-0' : 'opacity-100'">
        </div>
    </main>

    <script>
        function app() {
            return {
                currentPage: 'landing',
                pageContent: '',
                loading: false,
                user: 0, // Personne n'est connect√© par d√©faut üò∂

                async init() {
                    await this.changePage('landing');
                },

                // D√©cide d'envoyer vers le profil ou le login üß†
                handleProfileClick() {
                    if (this.user === 1) {
                        this.changePage('profile');
                    } else {
                        this.changePage('login');
                    }
                },

                // Simulation de connexion pour tes tests üîë
                login() {
                    this.user = 1;
                    this.changePage('profile');
                },

                async changePage(pageName) {
                    this.loading = true;
                    this.currentPage = pageName;
                    
                    try {
                        const response = await fetch(`view/${pageName}.html`);
                        if (!response.ok) throw new Error("Page non trouv√©e");
                        this.pageContent = await response.text();
                    } catch (err) {
                        this.pageContent = `<div class="text-center py-20 text-red-500">Erreur : ${pageName}.html est introuvable üò±</div>`;
                    } finally {
                        this.loading = false;
                    }
                }
            }
        }
    </script>
</body>
</html>