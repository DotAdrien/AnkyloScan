# scanner/Dockerfile
FROM python:3.9-slim

# Installation de nmap et des d√©pendances syst√®me üîç
RUN apt-get update && apt-get install -y nmap && rm -rf /var/lib/apt/lists/*

WORKDIR /app

# Installation des d√©pendances Python üêç
# On r√©utilise mysql-connector-python pour parler √† la DB
RUN pip install --no-cache-dir mysql-connector-python

# Copie du code du scanner
COPY . .

# Cr√©ation du dossier pour les fichiers output
RUN mkdir -p /app/outputs

# Le scanner n'a pas besoin de rester allum√©, il est appel√© par l'API
# Mais on peut mettre une commande par d√©faut pour test
CMD ["python", "main.py"]